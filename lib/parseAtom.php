<?php

class parseAtom {

    private static $countriesArray = ['Caribbean Netherlands'=>'BQ','Hungary'=>'HU','Vatican'=>'VA','Австралия'=>'AU','Австрия'=>'AT','Азербайджан'=>'AZ','Аландские острова'=>'AX','Албания'=>'AL','Алжир'=>'DZ','Американские Виргинские острова'=>'VI','Американское Самоа'=>'AS','Ангилья'=>'AI','Ангола'=>'AO','Андорра'=>'AD','Антарктида'=>'AQ','Антигуа и Барбуда'=>'AG','Аргентина'=>'AR','Армения'=>'AM','Аруба'=>'AW','Афганистан'=>'AF','Багамские острова'=>'BS','Бангладеш'=>'BD','Барбадос'=>'BB','Бахрейн'=>'BH','Белиз'=>'BZ','Белоруссия'=>'BY','Бельгия'=>'BE','Бенин'=>'BJ','Бермудские острова'=>'BM','Болгария'=>'BG','Боливия'=>'BO','Босния и Герцеговина'=>'BA','Ботсвана'=>'BW','Бразилия'=>'BR','Британская территория в Индийском океане'=>'IO','Британские Виргинские острова'=>'VG','Бруней'=>'BN','Буркина-Фасо'=>'BF','Бурунди'=>'BI','Бутан'=>'BT','Вануату'=>'VU','Великобритания'=>'GB','Венесуэла'=>'VE','Внешние малые острова США'=>'UM','Вьетнам'=>'VN','Габон'=>'GA','Гаити'=>'HT','Гайана'=>'GY','Гамбия'=>'GM','Гана'=>'GH','Гваделупа'=>'GP','Гватемала'=>'GT','Гвинея'=>'GN','Гвинея-Бисау'=>'GW','Германия'=>'DE','Гернси'=>'GG','Гибралтар'=>'GI','Гондурас'=>'HN','Гонконг'=>'HK','Гренада'=>'GD','Гренландия'=>'GL','Греция'=>'GR','Грузия'=>'GE','Гуам'=>'GU','Дания'=>'DK','Джерси'=>'JE','Джибути'=>'DJ','Доминика'=>'DM','Доминиканская Республика'=>'DO','Египет'=>'EG','Замбия'=>'ZM','Западная Сахара'=>'EH','Зимбабве'=>'ZW','Израиль'=>'IL','Индия'=>'IN','Индонезия'=>'ID','Иордания'=>'JO','Ирак'=>'IQ','Иран'=>'IR','Ирландия'=>'IE','Исландия'=>'IS','Испания'=>'ES','Италия'=>'IT','Йемен'=>'YE','Кабо-Верде'=>'CV','Казахстан'=>'KZ','Каймановы острова'=>'KY','Камбоджа'=>'KH','Камерун'=>'CM','Канада'=>'CA','Катар'=>'QA','Кения'=>'KE','Кипр'=>'CY','Киргизия'=>'KG','Кирибати'=>'KI','Китай'=>'CN','Кокосовые (Килинг) острова'=>'CC','Колумбия'=>'CO','Коморские острова'=>'KM','Конго (Браззавиль)'=>'CG','Конго (Киншаса)'=>'CD','Коста-Рика'=>'CR',"Кот-д'Ивуар"=>'CI','Куба'=>'CU','Кувейт'=>'KW','Кюрасао'=>'CW','Лаос'=>'LA','Латвия'=>'LV','Лесото'=>'LS','Либерия'=>'LR','Ливан'=>'LB','Ливия'=>'LY','Литва'=>'LT','Лихтенштейн'=>'LI','Люксембург'=>'LU','Маврикий'=>'MU','Мавритания'=>'MR','Мадагаскар'=>'MG','Майотта'=>'YT','Макао'=>'MO','Македония'=>'MK','Малави'=>'MW','Малайзия'=>'MY','Мали'=>'ML','Мальдивы'=>'MV','Мальта'=>'MT','Марокко'=>'MA','Мартиника'=>'MQ','Маршалловы острова'=>'MH','Мексика'=>'MX','Микронезия'=>'FM','Мозамбик'=>'MZ','Молдавия'=>'MD','Монако'=>'MC','Монголия'=>'MN','Монтсеррат'=>'MS','Мьянма'=>'MM','Намибия'=>'NA','Науру'=>'NR','Непал'=>'NP','Нигер'=>'NE','Нигерия'=>'NG','Нидерландские Антильские острова'=>'AN','Нидерланды'=>'NL','Никарагуа'=>'NI','Ниуэ'=>'NU','Новая Зеландия'=>'NZ','Новая Каледония'=>'NC','Норвегия'=>'NO','Объединённые Арабские Эмираты'=>'AE','Оман'=>'OM','Остров Буве'=>'BV','Остров Мэн'=>'IM','Остров Норфолк'=>'NF','Остров Рождества'=>'CX','Остров Святого Мартина (французская часть)'=>'MF','Остров Святой Елены'=>'SH','Острова Кука'=>'CK','Острова Питкэрн'=>'PN','Острова Теркс и Кайкос'=>'TC','Острова Херд и Макдональд'=>'HM','Пакистан'=>'PK','Палау'=>'PW','Палестина'=>'PS','Панама'=>'PA','Папуа – Новая Гвинея'=>'PG','Парагвай'=>'PY','Перу'=>'PE','Польша'=>'PL','Португалия'=>'PT','Пуэрто-Рико'=>'PR','Реюньон'=>'RE','Россия'=>'RU','Руанда'=>'RW','Румыния'=>'RO','Сальвадор'=>'SV','Самоа'=>'WS','Сан-Марино'=>'SM','Сан-Томе и Принсипи'=>'ST','Саудовская Аравия'=>'SA','Свазиленд'=>'SZ','Северная Корея'=>'KP','Северные Марианские острова'=>'MP','Сейшельские острова'=>'SC','Сен-Бартельми'=>'BL','Сен-Пьер и Микелон'=>'PM','Сенегал'=>'SN','Сент-Винсент и Гренадины'=>'VC','Сент-Китс и Невис'=>'KN','Сент-Люсия'=>'LC','Сербия'=>'RS','Сингапур'=>'SG','Синт-Мартен'=>'SX','Сирия'=>'SY','Словакия'=>'SK','Словения'=>'SI','Соединённые Штаты Америки'=>'US','Соломоновы острова'=>'SB','Сомали'=>'SO','Судан'=>'SD','Суринам'=>'SR','Сьерра-Леоне'=>'SL','Таджикистан'=>'TJ','Тайвань'=>'TW','Тайланд'=>'TH','Танзания'=>'TZ','Тимор-Лесте'=>'TL','Того'=>'TG','Токелау'=>'TK','Тонга'=>'TO','Тринидад и Тобаго'=>'TT','Тувалу'=>'TV','Тунис'=>'TN','Туркмения'=>'TM','Турция'=>'TR','Уганда'=>'UG','Узбекистан'=>'UZ','Украина'=>'UA','Уоллис и Футуна'=>'WF','Уругвай'=>'UY','Фарерские острова'=>'FO','Фиджи'=>'FJ','Филиппины'=>'PH','Финляндия'=>'FI','Фолклендские острова'=>'FK','Франция'=>'FR','Французская Гвиана'=>'GF','Французская Полинезия'=>'PF','Французские Южные и Антарктические территории'=>'TF','Хорватия'=>'HR','Центральноафриканская Республика'=>'CF','Чад'=>'TD','Черногория'=>'ME','Чешская республика'=>'CZ','Чили'=>'CL','Швейцария'=>'CH','Швеция'=>'SE','Шпицберген и Ян-Майен'=>'SJ','Шри-Ланка'=>'LK','Эквадор'=>'EC','Экваториальная Гвинея'=>'GQ','Эритрея'=>'ER','Эстония'=>'EE','Эфиопия'=>'ET','ЮАР'=>'ZA','Южная Корея'=>'KR','Южные Сандвичевы острова'=>'GS','Южный Судан'=>'SS','Ямайка'=>'JM','Япония'=>'JP'];

    public function  getEntries($feed) {
        $entries = $feed->data['child']['http://www.w3.org/2005/Atom']['feed'][0]['child']['http://www.w3.org/2005/Atom']['entry'];
        return $entries;
    }

    public function  getProperty($entry, $name) {
        $property = $entry['child']['http://www.w3.org/2005/Atom']['content'][0]['child']["http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"]["properties"][0]["child"]["http://schemas.microsoft.com/ado/2007/08/dataservices"][$name][0]['data'];
        return $property;
    }

    public function getCountryCode($name) {
        return self::$countriesArray[$name];
    }

}